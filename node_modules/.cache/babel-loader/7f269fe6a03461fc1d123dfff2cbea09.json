{"ast":null,"code":"var _jsxFileName = \"/home/oleksii/Code/web_dev/goit/goit-react-hw-04-phonebook/src/components/App.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { nanoid } from 'nanoid';\nimport PropTypes from 'prop-types';\nimport Form from './Form';\nimport ContactList from \"./ContactList\";\nimport Filter from \"./Filter\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [contacts, setContacts] = useState(() => {\n    var _JSON$parse;\n\n    return (_JSON$parse = JSON.parse(localStorage.getItem('contacts'))) !== null && _JSON$parse !== void 0 ? _JSON$parse : [];\n  });\n  const [filter, setFilter] = useState('');\n  useEffect(() => {\n    window.localStorage.setItem('contacts', JSON.stringify(contacts));\n  }, [contacts]);\n\n  const deleteContact = idContact => {\n    setContacts(contacts.filter(contact => contact.id !== idContact));\n  };\n\n  const formSubmitHandler = data => {\n    const contact = {\n      id: nanoid(),\n      name: data.name,\n      number: data.number\n    };\n\n    if (contacts.find(contact => contact.name.toLowerCase() === data.name.toLowerCase())) {\n      alert(`${data.name} is already in contacts`);\n      return;\n    }\n\n    ;\n    setContacts(prevState => [contact, ...prevState]);\n  };\n\n  const changeFilter = event => {\n    setFilter(event.currentTarget.value);\n  };\n\n  const normalizedFilter = filter.toLocaleLowerCase();\n  const filtredContacts = contacts.filter(contact => contact.name.toLowerCase().includes(normalizedFilter));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: formSubmitHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Contacts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      value: filter,\n      onChange: changeFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ContactList, {\n      contacts: filtredContacts,\n      onDeleteContact: deleteContact\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 7\n  }, this);\n}\n\n_s(App, \"Z5nb7pkQuH5x97H7AgHBU5cO8lU=\");\n\n_c = App;\n;\nApp.propTypes = {\n  filter: PropTypes.string,\n  contacts: PropTypes.arrayOf(PropTypes.shape)\n};\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","nanoid","PropTypes","Form","ContactList","Filter","App","contacts","setContacts","JSON","parse","localStorage","getItem","filter","setFilter","window","setItem","stringify","deleteContact","idContact","contact","id","formSubmitHandler","data","name","number","find","toLowerCase","alert","prevState","changeFilter","event","currentTarget","value","normalizedFilter","toLocaleLowerCase","filtredContacts","includes","propTypes","string","arrayOf","shape"],"sources":["/home/oleksii/Code/web_dev/goit/goit-react-hw-04-phonebook/src/components/App.jsx"],"sourcesContent":["import {useState,useEffect} from \"react\";\nimport { nanoid } from 'nanoid';\nimport PropTypes from 'prop-types';\nimport Form from './Form';\nimport ContactList from \"./ContactList\";\nimport Filter from \"./Filter\";\n\n\n\nfunction App(){\n\n  const [contacts, setContacts] = useState(()=>JSON.parse(localStorage.getItem('contacts')) ?? []);\n  const [filter, setFilter] = useState('');\n\n   useEffect(() => {\n    window.localStorage.setItem('contacts', JSON.stringify(contacts))\n   }, [contacts])\n\n\n  \n  const deleteContact = idContact => {\n    setContacts(contacts.filter(contact => contact.id !== idContact));\n      };\n\n\n  const formSubmitHandler = data => {\n    const contact = {\n      id: nanoid(),\n      name: data.name,\n      number: data.number,\n    };\n\n    if (contacts.find(contact => contact.name.toLowerCase() === data.name.toLowerCase())) {\n      alert(`${data.name} is already in contacts`);\n      return;\n    };\n\n    setContacts(prevState => [contact, ...prevState]\n    );\n  };\n\n  const changeFilter = event => {\n    setFilter(event.currentTarget.value);    \n   };\n\n  \n  const normalizedFilter = filter.toLocaleLowerCase();\n  const filtredContacts = contacts.filter(contact =>\n    contact.name.toLowerCase().includes(normalizedFilter),\n  );\n\n    return (\n      <div>\n        <h1>Phonebook</h1>\n        <Form onSubmit={formSubmitHandler}/>        \n        <h2>Contacts</h2>\n        <Filter value={filter} onChange={changeFilter}/>\n        <ContactList contacts={filtredContacts} onDeleteContact={deleteContact}/>\n      </div>\n    )\n  \n\n};\n\nApp.propTypes = {\n  filter: PropTypes.string,\n  contacts: PropTypes.arrayOf(PropTypes.shape),\n};\n\nexport default App;"],"mappings":";;;AAAA,SAAQA,QAAR,EAAiBC,SAAjB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;AAIA,SAASC,GAAT,GAAc;EAAA;;EAEZ,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC;IAAA;;IAAA,sBAAIU,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAJ,qDAAoD,EAApD;EAAA,CAAD,CAAxC;EACA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,EAAD,CAApC;EAECC,SAAS,CAAC,MAAM;IACfe,MAAM,CAACJ,YAAP,CAAoBK,OAApB,CAA4B,UAA5B,EAAwCP,IAAI,CAACQ,SAAL,CAAeV,QAAf,CAAxC;EACA,CAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;;EAMD,MAAMW,aAAa,GAAGC,SAAS,IAAI;IACjCX,WAAW,CAACD,QAAQ,CAACM,MAAT,CAAgBO,OAAO,IAAIA,OAAO,CAACC,EAAR,KAAeF,SAA1C,CAAD,CAAX;EACG,CAFL;;EAKA,MAAMG,iBAAiB,GAAGC,IAAI,IAAI;IAChC,MAAMH,OAAO,GAAG;MACdC,EAAE,EAAEpB,MAAM,EADI;MAEduB,IAAI,EAAED,IAAI,CAACC,IAFG;MAGdC,MAAM,EAAEF,IAAI,CAACE;IAHC,CAAhB;;IAMA,IAAIlB,QAAQ,CAACmB,IAAT,CAAcN,OAAO,IAAIA,OAAO,CAACI,IAAR,CAAaG,WAAb,OAA+BJ,IAAI,CAACC,IAAL,CAAUG,WAAV,EAAxD,CAAJ,EAAsF;MACpFC,KAAK,CAAE,GAAEL,IAAI,CAACC,IAAK,yBAAd,CAAL;MACA;IACD;;IAAA;IAEDhB,WAAW,CAACqB,SAAS,IAAI,CAACT,OAAD,EAAU,GAAGS,SAAb,CAAd,CAAX;EAED,CAdD;;EAgBA,MAAMC,YAAY,GAAGC,KAAK,IAAI;IAC5BjB,SAAS,CAACiB,KAAK,CAACC,aAAN,CAAoBC,KAArB,CAAT;EACA,CAFF;;EAKA,MAAMC,gBAAgB,GAAGrB,MAAM,CAACsB,iBAAP,EAAzB;EACA,MAAMC,eAAe,GAAG7B,QAAQ,CAACM,MAAT,CAAgBO,OAAO,IAC7CA,OAAO,CAACI,IAAR,CAAaG,WAAb,GAA2BU,QAA3B,CAAoCH,gBAApC,CADsB,CAAxB;EAIE,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,IAAD;MAAM,QAAQ,EAAEZ;IAAhB;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHF,eAIE,QAAC,MAAD;MAAQ,KAAK,EAAET,MAAf;MAAuB,QAAQ,EAAEiB;IAAjC;MAAA;MAAA;MAAA;IAAA,QAJF,eAKE,QAAC,WAAD;MAAa,QAAQ,EAAEM,eAAvB;MAAwC,eAAe,EAAElB;IAAzD;MAAA;MAAA;MAAA;IAAA,QALF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAWH;;GArDQZ,G;;KAAAA,G;AAqDR;AAEDA,GAAG,CAACgC,SAAJ,GAAgB;EACdzB,MAAM,EAAEX,SAAS,CAACqC,MADJ;EAEdhC,QAAQ,EAAEL,SAAS,CAACsC,OAAV,CAAkBtC,SAAS,CAACuC,KAA5B;AAFI,CAAhB;AAKA,eAAenC,GAAf"},"metadata":{},"sourceType":"module"}